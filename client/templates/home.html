<head>
  <title>cookieclicker</title>
</head>

<body>
	{{> home}}
</body>

<template name="home">
  	<div class="uk-container uk-container-center uk-margin-top uk-margin-large-bottom">
		{{> mainMenu}}
        <div class="uk-alert uk-alert-warning">
            <h3>This website is still under development.</h3>
            <p>Please be aware that any progress may be lost anytime due to our development. Ofcourse we'll try to avoid losing any user progress when possible.</p>
        </div>
	    <h1>Welcome to CookieBattle.net</h1>
        {{#if currentUser}}
            {{#if currentUser.squadId}}
                <div class="uk-grid">
                    <div class="uk-width-1-3">
                        {{> clicker}}
                    </div>
                    <div class="uk-width-2-3">
                        {{> store}}
                    </div>
                </div>
            {{else}}
                {{> squadSelection}}
            {{/if}}
        {{else}}
        <div class="uk-grid">
            <div class="uk-width-1-3">
                {{> clicker}}
            </div>
            <div class="uk-width-2-3">
                {{> store}}
            </div>
        </div>
        {{/if}}
    </div>
	{{> mobileMenu}}  
</template>

<template name="clicker">
  <a id="clickerup" class="uk-animation-scale"><img src="img/cookie.png"/></a>
  <p>You currently have {{counter}} cookies!</p>
  <p>And you've create a total of {{total}} cookies!</p>
  <p>Income: {{income}} cookies per second</p>
</template>

<template name="mainMenu">
	<nav class="uk-navbar uk-margin-large-bottom">
        <a class="uk-navbar-brand uk-hidden-small" href="layouts_frontpage.html">Menu</a>
        <ul class="uk-navbar-nav uk-hidden-small">
            <li>
                <a href="#">{{> loginButtons}}</a>
            </li>
        </ul>
        <a href="#offcanvas" class="uk-navbar-toggle uk-visible-small" data-uk-offcanvas=""></a>
        <div class="uk-navbar-brand uk-navbar-center uk-visible-small">Menu</div>
    </nav>
</template>

<template name="mobileMenu">
	<div id="offcanvas" class="uk-offcanvas">
        <div class="uk-offcanvas-bar">
            <ul class="uk-nav uk-nav-offcanvas">
                <li>
                    <a href="#">{{> loginButtons}}</a>
                </li>
            </ul>
        </div>
    </div>
</template>

<template name="store">
    <h2>Recruitment Agency</h2>
    <div class="uk-grid uk-grid-small" data-uk-grid-margin data-uk-grid-match="{target:'.uk-panel'}">
    {{#each buildings}}
        {{> building}}
    {{/each}}
    </div>
</template>

<template name="building">
    <div class="uk-width-medium-1-2 uk-margin-bottom">
        <div class="uk-panel uk-panel-box">
            <div class="uk-width-1-2 uk-float-left">
                <div class="uk-thumbnail">
                    <img src="img/buildings/{{image}}" alt="{{name}}">
                    <div class="uk-thumbnail-caption">{{name}}</div>
                </div>
            </div>
            <div class="uk-width-1-2 uk-float-left" style="padding:10px;">
                <p>{{description}}</p>
            </div>
            <div class="uk-clearfix"></div>
            <div class="uk-width-1-1 uk-alert uk-clearfix">
                <div class="uk-width-3-4 uk-text-left uk-float-left">
                    <p>Generates {{income}} cookies per second</p>
                    <p>Hired: <span class="uk-badge">{{hasBuildings _id }}</span></p>
                    <p>Salary: <span class="uk-badge uk-badge-danger">{{calcCost}}</span> cookies</p>
                </div>
                <div class="uk-width-1-4 uk-float-left">
                    <button type="button" class="building-buy-button uk-margin-bottom uk-button uk-button-success" {{isBuyEnabled}} id="    {{_id}}" ><i class="uk-icon-user-plus"></i> Hire</button>
                    <button type="button" class="building-sell-button uk-margin-bottom uk-button uk-button-danger" {{isSellEnabled}} id="    {{_id}}" ><i class="uk-icon-user-times"></i> Sack</button>
                </div>
            </div>
        </div>
    </div>
</template>

<template name="squadSelection">
    <div class="uk-grid">
        <div class="uk-container-center uk-width-1-2">
            <div class="uk-panel uk-panel-box">
                <p class="uk-text-center">The world is full of danger, sadness, inequality and ofcourse cookies. So you better become part of a squad so you have some allies in the harsh wold of cookies.</p>
            <!-- This is the container of the toggling elements -->
            <ul class="uk-tab" data-uk-switcher='{connect:"#my-id", animation:"slide-horizontal"}'>
                <li class="uk-active"><a href="#">Join a squad</a></li>
                <li><a href="#">Create a squad</a></li>
            </ul>

            <!-- This is the container of the content items -->
            <ul id="my-id" class="uk-switcher uk-margin-top">
                <li class="uk-active">
                    <h3>Join a squad</h3>
                    {{#each squads}}
                        {{> squad}}
                    {{else}}
                        <p>There are no squads yet.</p>
                    {{/each}}
                </li>
                <li>
                    <h3>Create a squad</h3>
                    <div class="uk-form uk-form-horizontal">
                        <div class="uk-form-row">
                            <label class="uk-form-label" for="newSquadName">Squad Name</label>
                            <div class="uk-form-controls">
                                <input type="text" id="newSquadName" placeholder="Squad Name">
                                <button id="createSquadButton" class="uk-button uk-button-success">Create</button>
                            </div>
                        </div>
                    </div>
                </li>
            </ul>
            </div>
            <div id="createSquad" class="uk-panel uk-panel-box uk-hidden">
            </div>
            <div id="joinSquad" class="uk-panel uk-panel-box uk-hidden">
            </div>
        </div>
    </div>
</template>

<template name="squad">
    <div class="uk-width-1-1 uk-grid">
        <span class="uk-width-4-10">{{name}}</span>
        <span class="uk-width-3-10">{{name}}</span>
        <span class="uk-width-1-10">
            {{#if private}}
                <i class="uk-icon-lock"></i>
            {{else}}
                <i class="uk-icon-unlock-alt"></i>
            {{/if}}
        </span>
        <span class="uk-width-2-10">
            <button class="uk-button squad-join-button">Join</button>
        </span>
    </div>
</template>

